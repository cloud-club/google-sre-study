---
writer: minho
date: 2024-03-23
---

# Chapter 6 - Monitoring Distributed Systems

## Summary
분산 시스템 모니터링에 대한 SRE의 관점과 실제 적용 사례를 다룬 챕터입니다.

주요 내용:
- 모니터링의 4가지 결정적 지표: 지연응답, 트래픽, 에러, 서비스 포화 상태
- 알림 시스템 설계 시 주의사항
- SLO 기반의 모니터링 주기 설정의 중요성
- 에러의 정의 (HTTP 500뿐만 아니라 잘못된 200 응답도 포함)

## Questions
- 알림의 빈도와 중요도를 어떻게 적절하게 조절할 수 있을까?
- 장기적 해결책과 임시 우회책 사이에서 어떤 기준으로 판단해야 할까?
- 모니터링 지표의 임계값을 어떻게 설정하는 것이 가장 효과적일까?

## Thoughts
- 알림 시스템은 양날의 검 같다. 처음에는 단순히 모니터링한다는 것 자체에 의미를 두었지만, 실제로는 알림의 빈도와 중요도 설정이 매우 중요하다는 것을 깨달았다.
- 너무 잦은 알림은 오히려 경각심을 떨어뜨릴 수 있다. 마치 재난문자같다. 재난문자 처음에는 주의깊게 살펴보지만 자꾸 나한테 중요한 재난도 아닌데 재난문자가 오면 나중가서는 그냥 넘어가버리는 것처럼...
- 실제 개발 현장에서는 이상적인 해결책과 현실적인 제약 사이에서 타협점을 찾아야 하는 경우가 많다. 개발 일정이 급해서 임시 방편을 취하는 경우가 많지만... 그런 임시 방편은 금방 잊혀지고 다음 개발 일정으로 넘어가곤 한다.

## Difficulties
- 알림의 우선순위 설정과 대응 기준 수립이 어려웠다
- 에러의 임계값 설정이 쉽지 않았다. 이게 정말 임계값으로써의 가치를 갖는 숫자인가? (예를 들면 메모리 70% 이상이면 ASG의 scale out을 동작시킨다던가.. 진짜 70%일때 동작시키는게 맞을까? 80%은? 90%은?)
- 장기적 해결책과 임시 방편 사이에서의 선택이 쉽지 않은 듯 하다. 당장 현실적으로 개발 일정은 다가오는데 레거시를 고치자니 일정 산정이 안되고 그럼 레거시를 어떻게든 쓰기 위해 어거지(?)로 코드를 연결해서 넘어가고... 이게 맞을까?

## Discussion Topics
- 각자의 회사/팀에서는 어떤 모니터링 전략을 사용하고 있는지?
- 알림 피로도를 줄이면서도 중요한 문제를 놓치지 않는 방법은?